# Phase 5c 快速测试指南

完成了 Phase 5c 前端开发后，按照以下步骤测试所有功能。

## 🚀 系统启动

### 1. 启动后端 API
```powershell
cd d:\GeologAI\backend
python -m uvicorn app.main:app --reload --port 8000
```

**验证**: http://127.0.0.1:8000/health 返回 200 OK

### 2. 启动前端应用
```powershell
cd d:\GeologAI\web\frontend
streamlit run app.py --server.port 8501
```

**访问**: http://127.0.0.1:8501

## 📝 测试流程

### Step 1: 用户登录
1. 点击"前往登录页面"或访问 `/pages/01_login.py`
2. 使用注册账号：
   - 用户名: `testuser`
   - 邮箱: `test@example.com`
   - 密码: `password123`
3. 或者点击"还没有账号？注册"创建新账号

**预期结果**: ✅ 登录成功，获得 JWT token

### Step 2: 项目管理
1. 点击左侧菜单"📁 项目管理"或页面跳转到 `pages/02_projects.py`
2. 在表单中输入项目信息：
   - 项目名: "华北地区项目"
   - 描述: "华北地区油气勘探"
3. 点击"✅ 创建项目"

**预期结果**: ✅ 项目创建成功，显示在项目列表中

### Step 3: 数据上传
1. 点击左侧菜单"📤 数据上传"或导航到 `pages/03_data_upload.py`
2. 上传测试数据：
   - 选择已创建的项目
   - 输入井号：W-001
   - 选择一个 CSV 或 LAS 文件
   - 点击"✅ 上传数据"

**预期结果**: ✅ 数据上传成功，显示在已上传数据列表

### Step 4: 曲线分析
1. 点击左侧菜单"📈 曲线分析"或导航到 `pages/04_analysis.py`
2. 在侧边栏选择：
   - 项目：之前创建的项目
   - 井号：W-001
   - 分析类型：曲线展示
3. 选择要展示的曲线（例如：GR、RT、DEN）
4. 查看可视化结果

**预期结果**: ✅ 曲线正确显示，可交互操作

### Step 5: AI 预测
1. 点击左侧菜单"🤖 AI预测"或导航到 `pages/05_predictions.py`
2. 配置预测参数：
   - 项目和井号选择
   - 选择目标变量（例如：RT）
   - 选择特征变量（例如：GR、DEN）
   - 设置训练集比例：0.8
3. 点击"🚀 执行预测"

**预期结果**: ✅ 预测完成，显示精度、R² 和特征重要性

### Step 6: 模型训练
1. 点击左侧菜单"🎓 模型训练"或导航到 `pages/06_model_training.py`
2. 配置训练参数：
   - 数据选择：已上传的数据
   - 目标变量和特征变量
   - 算法选择：随机森林
   - 启用交叉验证
3. 点击"🚀 开始训练"

**预期结果**: ✅ 训练完成，显示性能指标和训练曲线

## 🧪 功能测试清单

### 认证模块 (pages/01_login.py)
- [ ] 登录功能正常
- [ ] 注册功能正常
- [ ] JWT token 正确获取
- [ ] 会话保持正确
- [ ] 登出功能正常

### 项目管理 (pages/02_projects.py)
- [ ] 创建项目成功
- [ ] 列表显示正确
- [ ] 编辑项目成功
- [ ] 删除项目成功
- [ ] 缓存刷新正确

### 数据上传 (pages/03_data_upload.py)
- [ ] 文件上传成功
- [ ] 支持多种格式（CSV、LAS、XLSX）
- [ ] 数据预览正确
- [ ] 数据删除成功
- [ ] 错误处理完善

### 曲线分析 (pages/04_analysis.py)
- [ ] 曲线展示正确
- [ ] 相关性分析正确
- [ ] 统计分析正确
- [ ] 多井对比正确
- [ ] 图表交互正常

### AI 预测 (pages/05_predictions.py)
- [ ] 模型预测成功
- [ ] 精度指标显示
- [ ] 特征重要性排名
- [ ] 结果下载成功
- [ ] 参数配置灵活

### 模型训练 (pages/06_model_training.py)
- [ ] 基本训练成功
- [ ] 高级参数配置
- [ ] 模型对比功能
- [ ] 性能评估正确
- [ ] 报告下载成功

## 📊 性能指标

### 预期性能
- 页面加载时间: < 2 秒
- 数据预览: < 5 秒
- 曲线分析: < 3 秒
- AI 预测: < 30 秒（取决于数据量）
- 模型训练: < 60 秒（取决于算法）

### 内存使用
- 基础运行: < 200 MB
- 加载大型数据集: < 500 MB
- 模型训练: < 1 GB

## 🐛 常见问题

### 问题 1: 无法连接到后端
**解决方案**:
```powershell
# 确认后端运行
Test-NetConnection -ComputerName 127.0.0.1 -Port 8000

# 重启后端
cd d:\GeologAI\backend
python -m uvicorn app.main:app --reload --port 8000
```

### 问题 2: 文件上传失败
**解决方案**:
- 检查文件格式是否支持（LAS/CSV/XLSX）
- 确认文件大小 < 100 MB
- 检查网络连接

### 问题 3: 页面加载缓慢
**解决方案**:
- 清除浏览器缓存
- 刷新页面: F5
- 重启 Streamlit: Ctrl+C 后重新运行

### 问题 4: 预测失败
**解决方案**:
- 确认数据完整性
- 检查特征数量 >= 2
- 尝试减少数据量

## 🔧 调试模式

### 启用调试模式
```powershell
# 后端
cd d:\GeologAI\backend
python -m uvicorn app.main:app --reload --port 8000 --log-level debug

# 前端
cd d:\GeologAI\web\frontend
streamlit run app.py --server.port 8501 --logger.level=debug
```

### 查看日志
```powershell
# 后端日志
Get-Content -Path "d:\GeologAI\backend\app.log" -Tail 50

# 前端日志（显示在终端）
# 直接在 Streamlit 运行窗口查看
```

## 📈 测试覆盖率

| 模块 | 测试项 | 预期结果 | 实际结果 |
|-----|--------|---------|---------|
| 登录 | 账号密码 | ✅ 成功 | ⏳ 待测 |
| 项目 | 创建编辑删除 | ✅ 成功 | ⏳ 待测 |
| 上传 | 多格式支持 | ✅ 成功 | ⏳ 待测 |
| 分析 | 多种图表 | ✅ 成功 | ⏳ 待测 |
| 预测 | AI 模型 | ✅ 成功 | ⏳ 待测 |
| 训练 | 自定义模型 | ✅ 成功 | ⏳ 待测 |

## 🎯 测试完成检查列表

- [ ] 所有 6 个页面加载成功
- [ ] 认证系统正常工作
- [ ] 数据存储和检索正确
- [ ] 所有分析功能正常
- [ ] AI 功能可用
- [ ] 页面间导航正确
- [ ] 错误处理完善
- [ ] 性能满足预期

## 📝 测试报告模板

```markdown
## Phase 5c 测试报告

**测试日期**: [日期]
**测试人员**: [名字]
**系统版本**: [版本号]

### 功能测试
- [功能]: [通过/失败] - [备注]

### 性能测试
- 平均加载时间: [秒]
- 内存使用: [MB]
- CPU 使用: [%]

### 问题发现
1. [问题描述]
2. [问题描述]

### 改进建议
1. [建议]
2. [建议]

### 总体评分
- 功能完整度: [90/100]
- 用户体验: [85/100]
- 性能表现: [80/100]
- **总分**: [85/100]
```

## 🚀 下一步

完成 Phase 5c 测试后：

1. **Phase 5d** (高级可视化 - 1周):
   - 3D 曲线展示
   - 钻孔地层剖面
   - 实时数据流

2. **Phase 5e** (预测分析 - 1周):
   - 深度学习模型
   - 实时预测引擎
   - 模型解释工具

3. **E2E 测试** (1周):
   - 端到端工作流测试
   - 压力测试
   - 安全测试

4. **部署** (1周):
   - Docker 容器化
   - 生产环境配置
   - CI/CD 优化

---

**提示**: 所有测试完成后，请更新本文档的测试结果，并在 GitHub 提交。

